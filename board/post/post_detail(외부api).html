<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시글 상세조회</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body>
    <nav class="navbar navbar-dark bg-dark navbar-expand-sm">
        <div class="container-fluid">
            <a class="navbar-brand" href="../post/post_list.html">EAZY BOARD</a>
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../author/author_list.html">회원 목록</a></li>
                <li class="nav-item"><a class="nav-link" href="../post/post_list.html">게시글 목록</a></li>
                <li class="nav-item"><a class="nav-link" href="../author/author_register.html">회원가입</a></li>
            </ul>
        </div>
    </nav>
    <div class="container">
        <div class="my-4 clearfix d-flex justify-content-between align-items-center">
            <h3 class="float-start my-0">게시글 상세조회</h3>
        </div>
        <section class="mb-4">
            <div class="form-group">
                <input type="number" class="form-control" id="requestDataNum" placeholder="조회를 원하는 글 ID 번호를 입력하시오.">
                <label for=""></label>
            </div>
            <button class="btn btn-dark" onclick="singleDataRequest()">데이터 조회</button>

            <table class="table mt-5">
                <tbody id="detail-tbody">
                    <tr>
                        <th style="width: 150px; background-color: #eee;">ID</th>
                        <td id="detail-id"></td>
                    </tr>
                    <tr>
                        <th style="width: 150px; background-color: #eee;">작성자 ID</th>
                        <td id="detail-userId"></td>
                    </tr>
                    <tr>
                        <th style="width: 150px; background-color: #eee;">제목</th>
                        <td id="detail-title"></td>
                    </tr>
                    <tr>
                        <th style="width: 150px; background-color: #eee;">내용</th>
                        <td id="detail-body"></td>
                    </tr>
                </tbody>
            </table>

        </section>
    </div>
</body>
<script>
    const singleDataRequest = async () => {
        const getId = Number(document.getElementById("requestDataNum").value);

        if (!getId) {
            alert("조회할 글 ID를 입력하세요.");
            return;
        }
        try {
            const res = await axios.get(`https://jsonplaceholder.typicode.com/posts/${getId}`);
            const data = res.data;

            document.getElementById("detail-id").textContent = data.id ?? "";
            document.getElementById("detail-userId").textContent = data.userId ?? "";
            document.getElementById("detail-title").textContent = data.title ?? "";
            document.getElementById("detail-body").textContent = data.body ?? "";
        } catch (e) {
            document.getElementById("detail-id").textContent = "";
            document.getElementById("detail-userId").textContent = "";
            document.getElementById("detail-title").textContent = "조회 결과가 없습니다.";
            document.getElementById("detail-body").textContent = "";

            console.log(e);
        }
    };
</script>


</html>